# Описание сервиса для экспорта метрик PostgreSQL

Python-скрипт, который собирает метрики из базы данных PostgreSQL и записывает их в файл в формате Prometheus. 
Скрипт работает в бесконечном цикле с интервалом в 10 минут (`600` секунд), что позволяет регулярно обновлять данные для мониторинговых систем.

## Общее описание

Скрипт подключается к базе данных PostgreSQL, выполняет несколько SQL-запросов для сбора метрик и записывает результаты в файл `monitoring/metrics/pg_metrics.prom`. Метрики включают:
1. **Размер таблиц**:
   - Выбираются размеры всех таблиц и их владельцы.
   - Пример метрики: `pg_table_size_bytes{table_name="users", owner="postgres"} 1048576`.
2. **Размер баз данных**:
   - Вычисляется размер каждой базы данных в мегабайтах.
   - Пример метрики: `pg_database_size_mb{database="mydb"} 500`.
3. **Операции чтения**:
   - Подсчитываются количество последовательных сканирований (`seq_scan`) и чтений кортежей (`seq_tup_read`) для каждой таблицы.
   - Пример метрик:
     ```
     pg_table_seq_scan_total{table_name="users", owner="postgres"} 100
     pg_table_seq_tup_read_total{table_name="users", owner="postgres"} 5000
     ```

 
